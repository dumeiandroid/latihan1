<?php

function getIQ_cfit($skorTotal_cfit, $usia) {
    // Define the IQ table
    $iqTable = [
        49 => [183, 183, 183, 183, 183],
        48 => [183, 183, 183, 179, 179],
        47 => [183, 183, 179, 176, 176],
        46 => [183, 179, 176, 173, 173],
        45 => [179, 176, 173, 169, 169],
        44 => [176, 173, 169, 167, 167],
        43 => [175, 171, 168, 165, 165],
        42 => [171, 168, 165, 161, 161],
        41 => [167, 163, 160, 157, 157],
        40 => [165, 161, 159, 155, 155],
        39 => [161, 159, 155, 152, 152],
        38 => [159, 155, 152, 149, 149],
        37 => [155, 152, 149, 145, 145],
        36 => [152, 149, 145, 142, 142],
        35 => [150, 147, 144, 140, 140],
        34 => [147, 144, 140, 137, 137],
        33 => [142, 139, 136, 133, 133],
        32 => [140, 137, 134, 131, 131],
        31 => [137, 134, 131, 128, 128],
        30 => [134, 131, 128, 126, 124],
        29 => [131, 128, 124, 123, 121],
        28 => [129, 126, 123, 121, 119],
        27 => [126, 123, 119, 117, 116],
        26 => [123, 119, 116, 114, 113],
        25 => [119, 116, 113, 111, 109],
        24 => [116, 113, 109, 108, 106],
        23 => [113, 109, 106, 104, 103],
        22 => [109, 106, 103, 101, 100],
        21 => [106, 103, 100, 98, 96],
        20 => [104, 101, 98, 96, 94],
        19 => [101, 98, 94, 93, 91],
        18 => [98, 94, 91, 89, 88],
        17 => [94, 91, 88, 86, 85],
        16 => [91, 88, 85, 83, 81],
        15 => [88, 85, 81, 80, 78],
        14 => [85, 81, 78, 76, 75],
        13 => [81, 78, 75, 73, 72],
        12 => [80, 76, 73, 72, 70],
        11 => [76, 73, 70, 68, 67],
        10 => [73, 70, 67, 65, 63],
        9 => [70, 67, 63, 62, 60],
        8 => [67, 63, 60, 58, 57],
        7 => [63, 60, 57, 56, 55],
        6 => [60, 57, 55, 53, 52],
        5 => [57, 55, 53, 51, 48],
        4 => [55, 54, 52, 50, 47],
        3 => [53, 52, 48, 47, 45],
        2 => [52, 51, 47, 46, 43],
        1 => [50, 50, 46, 45, 40],
        0 => [48, 48, 45, 43, 38],
    ];

    // Determine the age index
    if ($usia >= 13.0 && $usia <= 13.4) {
        $ageIndex = 0;
    } elseif ($usia >= 13.5 && $usia <= 13.11) {
        $ageIndex = 1;
    } elseif ($usia >= 14.0 && $usia <= 14.11) {
        $ageIndex = 2;
    } elseif ($usia >= 15.0 && $usia <= 15.11) {
        $ageIndex = 3;
    } elseif ($usia >= 16.0) {
        $ageIndex = 4;
    } else {
        return "Invalid age";
    }

    // Return the IQ based on the score total and age index
    if (isset($iqTable[$skorTotal_cfit])) {
        return $iqTable[$skorTotal_cfit][$ageIndex];
    } else {
        return "Invalid score total";
    }
}

// Example usage
// $skorTotal_cfit = 30;
// $usia = 14;
$iq = getIQ_cfit($skorTotal_cfit, $usia);
// echo "Skor Total: " . $skorTotal_cfit;echo "<br>";
// echo "The IQ is: " . $iq;

?>
