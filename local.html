<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Manajemen LocalStorage</title>
    <style>
        body { font-family: sans-serif; padding: 20px; }
        h1, h2 { color: #333; }
        .container { max-width: 600px; margin: 0 auto; }
        .list-item { 
            display: flex; 
            justify-content: space-between; 
            align-items: center; 
            padding: 10px; 
            border-bottom: 1px solid #ccc; 
        }
        .list-item:last-child { border-bottom: none; }
        button { 
            padding: 5px 10px; 
            cursor: pointer; 
            border: none; 
            border-radius: 4px; 
        }
        .delete-all { background-color: #f44336; color: white; }
        .delete-item { background-color: #ff9800; color: white; }
        .refresh-btn { background-color: #2196F3; color: white; margin-top: 10px; }
    </style>
</head>
<body>

    <div class="container">
        <h1>Manajemen Kunci LocalStorage</h1>
        <button class="delete-all" onclick="clearAllLocalStorage()">Hapus Semua Kunci</button>
        <button class="refresh-btn" onclick="displayLocalStorage()">Segarkan Daftar</button>

        <h2>Daftar Kunci</h2>
        <div id="localStorageList"></div>
    </div>

    <script>
        function displayLocalStorage() {
            const listDiv = document.getElementById('localStorageList');
            listDiv.innerHTML = ''; // Kosongkan daftar sebelum diisi ulang

            if (localStorage.length === 0) {
                listDiv.innerHTML = '<p>Tidak ada kunci di LocalStorage.</p>';
                return;
            }

            for (let i = 0; i < localStorage.length; i++) {
                const key = localStorage.key(i);
                const itemDiv = document.createElement('div');
                itemDiv.className = 'list-item';
                itemDiv.innerHTML = `
                    <span>${key}</span>
                    <button class="delete-item" onclick="deleteLocalStorageItem('${key}')">Hapus</button>
                `;
                listDiv.appendChild(itemDiv);
            }
        }

        function deleteLocalStorageItem(key) {
            localStorage.removeItem(key);
            displayLocalStorage(); // Perbarui tampilan setelah menghapus
        }

        function clearAllLocalStorage() {
            localStorage.clear();
            displayLocalStorage(); // Perbarui tampilan setelah menghapus semua
        }

        // Tampilkan daftar saat halaman dimuat
        window.onload = displayLocalStorage;
    </script>

</body>
</html>