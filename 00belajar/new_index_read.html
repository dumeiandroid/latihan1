<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Document</title>
</head>
<body>
	
	<script>
		// new_index_read.js
// Skrip ini mengambil semua data dari API dan mencetaknya ke konsol.

// Fungsi asinkron untuk mengambil data dari API
async function readData() {
  const apiUrl = 'https://lidan-co-id.pages.dev/api/contacts_filter_dinamis';
  const tableName = 'data_latihan';

  try {
    console.log(`Mengambil data dari tabel '${tableName}'...`);

    // Melakukan permintaan GET ke API
    const response = await fetch(`${apiUrl}?table=${tableName}`, {
      method: 'GET',
      headers: {
        'Content-Type': 'application/json'
      }
    });

    // Memeriksa jika respons tidak berhasil
    if (!response.ok) {
      throw new Error(`Kesalahan HTTP! Status: ${response.status}`);
    }

    const result = await response.json();

    // Memeriksa jika data ada dan mencetaknya
    if (result.success && result.data.length > 0) {
      console.log('Data berhasil diambil:');
      console.log(result.data); // Mencetak array data
    } else if (result.success) {
      console.log('Data berhasil diambil, tetapi tidak ada record ditemukan.');
    } else {
      console.error('API mengembalikan kesalahan:', result.error);
    }
  } catch (error) {
    console.error('Terjadi kesalahan saat mengambil data:', error);
  }
}

// Menjalankan fungsi
readData();

	</script>
</body>
</html>